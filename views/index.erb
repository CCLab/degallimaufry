<html>
<head>
<title>Degallimaufry - <%= @monument.nid_id %></title>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
</head>
<body>
<script>
jQuery(document).ready(function(){
    jQuery('input[type=radio]').click(function(){
//Łapiemy wszystkie spany stojące obok radiobuttonów odpowiadających za pewne pole i wsadzamy do nich text równy value
        $('.'+$(this).attr('name')).html("meh");
//Łapiemy span z id równym value zaznaczonego buttona i wsadzamy do niego input text z value, name powinno być równe name radiobuttona z obciętym "_b", czyli np. "date_b" -> "date"     
        $('#'+$(this).val()).html("blemeh");
//Sprawdzamy czy istnieje input[type=text] dla name, address i date i jeśli tak to usuwamy z submit disabled
//      ?
    });
});

</script>
<div id="alert"><%= session[:alert] %></div>
<div id="notice"><%= session[:notice] %></div>
<h1>Nid_id: <%= @monument.nid_id %></h1>
<form name="review" action="/" method="POST">
<input type="hidden" name="nid_id" value="<%= @monument.nid_id %>">
<h3>Nazwa:</h3>
<% @names.each do |name| %>
  <% if @names.size == 1 %>
  <input type="radio" name="name_b" value="<%= name.value %>" checked disabled><span class="name_b" id="<%= name.value %>"><input type="text" name="name" value="<%= name.value %>"></span> (Historia: <%= name.actions %>, <%= name.points %> punktów)</br>
  <% elsif name == @names[0] && @names[0].points > @names[1].points+1 %>
  <input type="radio" name="name_b" value="<%= name.value %>" checked><span class="name_b" id="<%= name.value %>"><input type="text" name="name" value="<%= name.value %>"></span> (Historia: <%= name.actions %>, <%= name.points %> punktów)</br>
  <% else %>
  <input type="radio" name="name_b" value="<%= name.value %>" ><span class="name_b" id="<%= name.value %>"><%= name.value %></span> (Historia: <%= name.actions %>, <%= name.points %> punktów)</br>
  <% end %>
<% end %>
<h3>Adres:</h3>
<% @addresses.each do |address| %>
  <% if @addresses.size == 1 %>
  <input type="radio" name="address_b" value="<%= address.value %>" checked disabled><span class="address_b" id="<%= address.value %>"><input type="text" name="address" value="<%= address.value %>"></span> (Historia: <%= address.actions %>, <%= address.points %> punktów)</br>
  <% elsif address == @addresses[0] && @addresses[0].points > @addresses[1].points+1 %>
  <input type="radio" name="address_b" value="<%= address.value %>" checked><span class="address_b" id="<%= address.value %>"><input type="text" name="address" value="<%= address.value %>"></span> (Historia: <%= address.actions %>, <%= address.points %> punktów)</br>
  <% else %>
  <input type="radio" name="address_b" value="<%= address.value %>" ><span class="address_b" id="<%= address.value %>"><%= address.value %></span> (Historia: <%= address.actions %>, <%= address.points %> punktów)</br>
  <% end %>
<% end %>
<h3>Data powstania:</h3>
<% @dates.each do |date| %>
  <% if @dates.size == 1 %>
  <input type="radio" name="date_b" value="<%= date.value %>" checked disabled><span class="date_b" id="<%= date.value %>"><input type="text" name="date" value="<%= date.value %>"></span> (Historia: <%= date.actions %>, <%= date.points %> punktów)</br>
  <% elsif date == @dates[0] && @dates[0].points > @dates[1].points+1 %>
  <input type="radio" name="date_b" value="<%= date.value %>" checked><span class="date_b" id="<%= date.value %>"><input type="text" name="date" value="<%= date.value %>"></span> (Historia: <%= date.actions %>, <%= date.points %> punktów)</br>
  <% else %>
  <input type="radio" name="date_b" value="<%= date.value %>" ><span class="date_b" id="<%= date.value %>"><%= date.value %></span> (Historia: <%= date.actions %>, <%= date.points %> punktów)</br>
  <% end %>
<% end %>
<input type="submit" value="Zapisz i dawaj dalej!" disabled>
</form>
</body>
</html>